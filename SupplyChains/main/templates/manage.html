<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AdminManagePage</title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <link href="/static/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css">
    <link href="/static/css/AdminMangePage.css" rel="stylesheet">
    <link href="/static/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css">

    <script src="/static/js/jquery-1.11.3.min.js"></script>
    <script src="/static/js/fileinput.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/fileinput_locale_LANG.js"></script>
    <script src="/static/js/jscharts.js" type="text/javascript"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/static/js/html5shiv.js"></script>
    <script src="/static/js/respond.js"></script>
    <![endif]-->

</head>
<body>
<nav class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">ChainDemo-AdminPage</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/accounts/logout/">Log Out</a></li>
                <li><a href="/">Choose Chain</a></li>
                <li><a data-toggle="modal" data-target="#about">ABOUT</a></li>
            </ul>
        </div>

        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav side-nav">
                <li class="active"><a href="/manage/"><i class="fa fa-fw fa-dashboard"></i>Overview</a></li>
                <!-- <li class="active"><a href="/manage/"><i class="fa fa-fw fa-dashboard"></i>View All Users</a></li> -->
                <!-- <li class="active"><a href="/manage/"><i class="fa fa-fw fa-dashboard"></i>Overview</a></li> -->
                <!-- <li><a href="/log.csv"><i class="fa fa-fw fa-bar-chart-o"></i>Download Log File</a></li> -->
            </ul>
        </div>

    </div>
</nav>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <h1>
                System Parameters Setting&nbsp;&nbsp;&nbsp;
                <small>Overview</small>
            </h1>
            <ol class="breadcrumb">
                <li class="active">
                    <i class="fa fa-dashboard"></i> Parameters Settings
                </li>
            </ol>
        </div>
    </div>
<!-- 
    <div class="col-sm-12">
        <h3>Please upload a data file:</h3>

        <form class="col-sm-8" enctype="multipart/form-data" method="post" action="">{% csrf_token %}
            <label class="control-label">Excel File:</label>
            <input name="file" id="file" type="file" class="file" data-show-preview="false">
        </form>
    </div>
 -->    
  <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#attributeinfo"> View All Usernames</button>
 <div class="modal fade" id="attributeinfo" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">List of All Registered Users</h4>
                    </div>

                    <div class="modal-body">
                        {% if allusers %}
                        
                         {% for i in allusers %}
                        <p>{{ i }}</p>
                         {% endfor %}
                
                         {% endif %} 
                    </div>
                    
                    <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal"> Close</button>
                    </div>
                </div>
            </div>
        </div>

 <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#attributeinfo1"> View All Queries</button>
 <div class="modal fade" id="attributeinfo1" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">List of All Registered Users</h4>
                    </div>

                    <div class="modal-body">
                      {% for i in para %}
                         <li>{{ i.Username}}: {{ i.Param }}: {{ i.Value }}</li>
                     {% endfor %}
                    </div>
                    
                    <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal"> Close</button>
                    </div>
                </div>
            </div>
        </div>

<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#attributeinfo2"> View All UserActivities</button>
 <div class="modal fade" id="attributeinfo2" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">List of All Registered Users</h4>
                    </div>

                    <div class="modal-body">
                       {% for i in activities %}
                         <li>{{ i.Username}}: {{i.last_activity}}</li>
                        
                        {% endfor %}

                    </div>
                    
                    <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal"> Close</button>
                    </div>
                </div>
            </div>
        </div>

<div class="usergraphs">
     {% for i in graphs %}
         <!-- <p>{{ i.Username}} Latest Simulation {{i.graph_mode}},{{i.profit_vals}} Graph</p> -->
         <!-- NEED TO DO HERE!!! -->
           
             <div id="{{i.Username}}{{i.graph_mode}}" class="col-sm-4 charts">
            
            </div>
    {% endfor %}
      <!--   {% for j in i.profit_vals %}
                    <p> {{j}}</p>
                    {%endfor%} -->
     <!-- {% for i in profit_vals_all %}
        <p>profit values {{i}}</p>          
    {% endfor %}
 -->
  
</div>
 <div class="col-sm-12">
    <!-- {% load i18n %} -->
   <!--  <p>{{ user.last_login }}</p> 
    <p>{{ user.date_joined }}</p>
    <p>{{ user.last_activity }}</p> -->
    <!-- Activity: {{ profile.last_active }} -->
   

    </div>

</div>
<div class="modal fade" id="about" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h3 class="modal-title" id="myModalLabel">About</h3>
            </div>
            <div class="modal-body">
                <p>Created By MARS</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!--=====================-->
<script type="text/javascript">
    {% for i in graphs%}
    var N ={{ i.profit_vals}};
    
    if (N.length>=2) {
        // NEED TO DO HERE
        var myData = new Array(N.length);
        for (var i = 0; i < myData.length; i++) {
            myData[i] = [i+1, parseFloat(N[i])];
        }
     
        var jschartname=String("{{i.Username}}")+String("{{i.graph_mode}}")
        var myChart = new JSChart(jschartname, 'line');
        myChart.setDataArray(myData);
        myChart.setTitle('{{i.Username}} Simulation {{i.graph_mode}} Graph');
        myChart.setTitleColor('#8E8E8E');
        myChart.setTitleFontSize(11);
        myChart.setLineWidth(3);
        myChart.setAxisNameX('Period');
        myChart.setAxisNameY('');

        myChart.setAxisColor('#BFD402');
        myChart.setAxisValuesColor('#95A605');
        myChart.setSize(616, 321);
        myChart.draw();
        
    }
    {% endfor %}
</script>
</body>
</html>